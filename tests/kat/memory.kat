# memory.kat - Memory access operation tests

## Test: LOAD (@)
SOURCE: 0x1000 @
BYTECODE: 00 00 10 00 00  30  51
# LIT 0x1000, LOAD, RET

## Test: STORE (!)
SOURCE: 42 0x1000 !
BYTECODE: 00 2A 00 00 00  00 00 10 00 00  31  51
# LIT 42, LIT 0x1000, STORE, RET

## Test: LOAD then add
SOURCE: 0x1000 @ 10 +
BYTECODE: 00 00 10 00 00  30  00 0A 00 00 00  10  51
# LIT 0x1000, LOAD, LIT 10, ADD, RET

## Test: DUP and STORE
SOURCE: 42 DUP 0x1000 !
BYTECODE: 00 2A 00 00 00  01  00 00 10 00 00  31  51
# LIT 42, DUP, LIT 0x1000, STORE, RET

## Test: Load, modify, store
SOURCE: 0x1000 @ 1 + 0x1000 !
BYTECODE: 00 00 10 00 00  30  00 01 00 00 00  10  00 00 10 00 00  31  51
# LIT 0x1000, LOAD, LIT 1, ADD, LIT 0x1000, STORE, RET
